<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Anomaly Modding Book</title>
        <meta name="robots" content="noindex" />
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="index.html">Introduction</a></li><li class="chapter-item expanded "><a href="meta/index.html"><strong aria-hidden="true">1.</strong> Meta</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="meta/links.html"><strong aria-hidden="true">1.1.</strong> Links</a></li><li class="chapter-item expanded "><a href="meta/contributing/index.html"><strong aria-hidden="true">1.2.</strong> Contributing to this book</a></li></ol></li><li class="chapter-item expanded "><a href="getting-started/index.html"><strong aria-hidden="true">2.</strong> Getting Started</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="getting-started/installing-mo2.html"><strong aria-hidden="true">2.1.</strong> Installing MO2</a></li><li class="chapter-item expanded "><a href="getting-started/addon-installers.html"><strong aria-hidden="true">2.2.</strong> Addon installers</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">3.</strong> Addon compatibility</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">3.1.</strong> DLTX</div></li><li class="chapter-item expanded "><a href="addon-compatibility/monkey-patching.html"><strong aria-hidden="true">3.2.</strong> Monkey patching</a></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.</strong> Configs</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">4.1.</strong> LTX files</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.2.</strong> XML files</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.3.</strong> Condlists</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.4.</strong> Changing an item</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.5.</strong> Creating your own item</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">4.6.</strong> Dialogues</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.</strong> Scripting</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">5.1.</strong> Introduction to codebase</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.2.</strong> Codestyle</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.3.</strong> General suggestions</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.4.</strong> Callbacks</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.5.</strong> Engine classes</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.6.</strong> MCM</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.7.</strong> UI</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">5.8.</strong> Scripted dialogues</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.</strong> Modelling</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">6.1.</strong> Blender</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.2.</strong> Creating your own model</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">6.3.</strong> Making a gun</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.</strong> Map</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">7.1.</strong> Why maps are bullshit</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">7.2.</strong> Compiling maps</div></li></ol></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.</strong> Engine</div></li><li><ol class="section"><li class="chapter-item expanded "><div><strong aria-hidden="true">8.1.</strong> Compiling</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">8.2.</strong> Architecture</div></li></ol></li><li class="chapter-item expanded "><a href="quests/index.html"><strong aria-hidden="true">9.</strong> Quests</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="quests/introduction/index.html"><strong aria-hidden="true">9.1.</strong> Introduction TO REDO</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">9.2.</strong> DON'T USE WTF</div></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Anomaly Modding Book</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/Igigog/anomaly-modding-book" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>Oh hey there! Nice to see you :)</p>
<p>This place will introduce you to the concepts of modding Anomaly, from installing your first mod to creating your own game-changing addons.</p>
<p>Choose a chapter from our table of contents and start reading. I recommend starting with <a href="getting-started/installing-mo2.html">Mod Organiser guide</a>. If you want to contribute - feel free to send your articles (markdown-formatted) per Discord or learn <a href="meta/contributing/README.html">the hard way to contribute</a>.</p>
<p>Good luck, have fun, don't die</p>
<p>Igigog#6387</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="meta"><a class="header" href="#meta">Meta</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="links"><a class="header" href="#links">Links</a></h1>
<p><a href="https://discord.gg/c4RuJNs">Discord</a></p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="contributing-to-this-book"><a class="header" href="#contributing-to-this-book">Contributing to this book</a></h1>
<p>This book is written using <a href="https://github.com/rust-lang/mdBook">mdBook</a>. To contribute to this book, you will need:</p>
<ol>
<li><a href="https://github.com/rust-lang/mdBook">mdBook</a></li>
<li><a href="https://gitforwindows.org/">git</a></li>
<li><a href="https://github.com/">GitHub</a> account</li>
<li>(Optional) <a href="https://vscodium.com/">VSCodium</a></li>
</ol>
<p>VSCodium or VSCode is highly recommended to use. Although it is optional, I will assume you are using it.</p>
<p>Below I describe the setup steps needed to run and contribute to this book.</p>
<h2 id="installing-vscodium"><a class="header" href="#installing-vscodium">Installing VSCodium</a></h2>
<p>Installing VSCodium is trivial, just go to the <a href="https://vscodium.com/">link</a> and download it.</p>
<h2 id="installing-git-and-mdbook"><a class="header" href="#installing-git-and-mdbook">Installing git and mdbook</a></h2>
<p>To install these we will use command-line installer called <a href="https://scoop.sh/">Scoop</a>.</p>
<ol>
<li>Open VSCodium</li>
<li>Open a new terminal window by using Terminal menu</li>
</ol>
<div style="text-align: center;">
<p><img src="meta/contributing/contributing-images/1.PNG" alt="Mod Organiser logo" /></p>
</div>
<ol start="3">
<li>Open a new Powershell session by using Terminal's &quot;+&quot; menu</li>
</ol>
<div style="text-align: center;">
<p><img src="meta/contributing/contributing-images/2.PNG" alt="Mod Organiser logo" /></p>
</div>
<ol start="4">
<li>Run the following commands to install Scoop</li>
</ol>
<pre><code>Set-ExecutionPolicy RemoteSigned -Scope CurrentUser
</code></pre>
<pre><code>irm get.scoop.sh | iex
</code></pre>
<ol start="5">
<li>Run the following commands to install git and mdbook</li>
</ol>
<pre><code>scoop install git
</code></pre>
<pre><code>scoop install mdbook
</code></pre>
<ol start="6">
<li>Done. You're awesome.</li>
</ol>
<h2 id="forking-book-repository"><a class="header" href="#forking-book-repository">Forking book repository</a></h2>
<p>Contributing to this book follows the standart &quot;Pull Request&quot; workflow. That basically means that you will have your own copy of the book, and you will ask us to pull your changes into the main repository.</p>
<p>Here is the overview of steps needed for contributing:</p>
<ol>
<li>Copy (&quot;fork&quot;) the main repository</li>
<li>Download your copy of repo</li>
<li>Add your changes to your copy</li>
<li>Upload your changes</li>
<li>Open the Pull Request to merge your changes into main repository</li>
</ol>
<p>Welp, let's get started. I hope you already have a GitHub account.</p>
<h4 id="forking"><a class="header" href="#forking">Forking</a></h4>
<ol>
<li>Go to the <a href="https://github.com/Igigog/anomaly-modding-book">main repo</a></li>
<li>Press the fork button</li>
</ol>
<div style="text-align: center;">
<p><img src="meta/contributing/contributing-images/3.PNG" alt="Mod Organiser logo" /></p>
</div>
<ol start="3">
<li>Create the fork </li>
</ol>
<div style="text-align: center;">
<p><img src="meta/contributing/contributing-images/4.PNG" alt="Mod Organiser logo" /></p>
</div>
<ol start="4">
<li>You're awesome</li>
</ol>
<h4 id="downloading-your-repo"><a class="header" href="#downloading-your-repo">Downloading your repo</a></h4>
<ol>
<li>Open the folder you want to download into in VSCodium. In my case, it will be Desktop.</li>
</ol>
<div style="text-align: center;">
<p><img src="meta/contributing/contributing-images/5.PNG" alt="Mod Organiser logo" /></p>
</div>
<ol start="2">
<li>Open Poweshell Terminal session</li>
<li>Copy the link to your repo. </li>
</ol>
<div style="text-align: center;">
<p><img src="meta/contributing/contributing-images/6.PNG" alt="Mod Organiser logo" /></p>
</div>
<ol start="4">
<li>Run the following command in your Powershell Terminal with your link instead of LINK.</li>
</ol>
<pre><code>git clone LINK
</code></pre>
<ol start="5">
<li>You're awesome.</li>
</ol>
<h4 id="running-local-copy"><a class="header" href="#running-local-copy">Running local copy</a></h4>
<ol>
<li>Open the folder with your project in VSCodium</li>
<li>Run the following command in Terminal</li>
</ol>
<pre><code>mdbook serve --open
</code></pre>
<ol start="3">
<li>Local copy of the book will be opened in your browser</li>
</ol>
<h4 id="uploading-your-changes"><a class="header" href="#uploading-your-changes">Uploading your changes</a></h4>
<ol>
<li>
<p>Set your git up. Here's a great <a href="https://docs.github.com/en/get-started/quickstart/set-up-git">guide</a></p>
</li>
<li>
<p>Add your changes using VSCodium git tab. Open git tab, hover over &quot;Changes&quot; line and press &quot;+&quot;.</p>
</li>
</ol>
<div style="text-align: center;">
<p><img src="meta/contributing/contributing-images/7.PNG" alt="Mod Organiser logo" /></p>
</div>
<ol start="3">
<li>Add a nice message and press &quot;✔&quot; to commit your changes</li>
</ol>
<div style="text-align: center;">
<p><img src="meta/contributing/contributing-images/8.PNG" alt="Mod Organiser logo" /></p>
</div>
<ol start="4">
<li>You should now be able to publish your changes</li>
</ol>
<div style="text-align: center;">
<p><img src="meta/contributing/contributing-images/9.PNG" alt="Mod Organiser logo" /></p>
</div>
<h2 id="creating-pull-request"><a class="header" href="#creating-pull-request">Creating Pull Request</a></h2>
<ol>
<li>In main book repository, open &quot;Pull Requests&quot; tab and press &quot;New pull request&quot;</li>
</ol>
<div style="text-align: center;">
<p><img src="meta/contributing/contributing-images/10.PNG" alt="Mod Organiser logo" /></p>
</div>
<ol start="2">
<li>
<p>Press &quot;compare across forks&quot;. Choose your repository and press &quot;Create pull request&quot;. </p>
</li>
<li>
<p>You're awesome. Probably. Now ping Igigog#6387 in Discord to get your pull request reviewed.</p>
</li>
<li>
<p>Done. Your changes are added to the main book.</p>
</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h1 id="getting-started"><a class="header" href="#getting-started">Getting Started</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="installing-mo2"><a class="header" href="#installing-mo2">Installing MO2</a></h1>
<p>This guide is meant to show you how to setup Mod Organizer 2 and how to mod Anomaly in a simple and easy way step by step.</p>
<p>Made by <a href="https://www.blogger.com/profile/07678551170854762591">Starcry</a></p>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/mo2anomaly.png" alt="Mod Organiser logo" /></p>
</div>
<h2 id="what-makes-mod-organizer-2-the-superior-mod-manager"><a class="header" href="#what-makes-mod-organizer-2-the-superior-mod-manager">What makes Mod Organizer 2 the superior mod manager?</a></h2>
<ul>
<li>
<p>Installed addons never touch your original game files, instead they are injected into the game only when you boot it up by utilizing virtual file system.</p>
</li>
<li>
<p>Mod list is easily manageable, unlike with JSGME you can update or make changes to any addons at any time, without the need of enabling/disabling.</p>
</li>
<li>
<p>Shows you which mods are conflicting in details.</p>
</li>
</ul>
<p>Important note: Many antivirus softwares will block MO2 and Anomaly files causing you to have strange crashes, the reliable solution is to scan your MO2 folder for safety, then set an antivirus exclusion to the entire MO2 folder (and to your Anomaly folder).</p>
<h2 id="installation-and-instance-setup"><a class="header" href="#installation-and-instance-setup">Installation and instance setup</a></h2>
<ol>
<li><a href="https://github.com/Modorganizer2/modorganizer/releases">Download</a> the latest version of MO2
(Scroll down, download the .exe and install it)</li>
</ol>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/0.png" alt="download page" /></p>
</div>
<ol start="2">
<li>After getting this error and clicking &quot;OK&quot; select &quot;Create a portable instance&quot; and press next.</li>
</ol>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/error.png" alt="error" /></p>
</div>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/portable.png" alt="portable instance" /></p>
</div>
<ol start="3">
<li>Click &quot;Browse...&quot; and select your S.T.A.L.K.E.R Anomaly folder, name the instance whatever you want and click next.</li>
</ol>
<p><text style="color: red"><strong>Note if you have an error when selecting the game directory</strong></text>: Sometimes MO2 won't detect the game if the directory isn't named &quot;S.T.A.L.K.E.R. Anomaly&quot;, in case your problem remains and you have Windows 7 try downloading and double clicking <a href="https://www.microsoft.com/en-us/download/details.aspx?id=47442">this Windows file</a>.</p>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/newinstance.png" alt="Creating a new instance" /></p>
</div>
<ol start="4">
<li>The next page will show you where you'r mods and other files for Anomaly mods will be stored, you can leave it as it is and click next.</li>
</ol>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/1.png" alt="Creating a new instance" /></p>
</div>
<ol start="5">
<li>Click next again as linking an account to Nexus is not needed.</li>
</ol>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/2.png" alt="Creating a new instance" /></p>
</div>
<ol start="6">
<li>After that you should see something like this.</li>
</ol>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/3.png" alt="Creating a new instance" /></p>
</div>
<ol start="7">
<li>Congratulations, you paired MO2 with Anomaly successfully.
After you click finish MO2 will start up.</li>
</ol>
<h2 id="small-tutorial"><a class="header" href="#small-tutorial">Small tutorial</a></h2>
<p>After MO2 boots up you will get 2 popups, one is for an optional tutorial and the other one is for Nexus which we won't need.</p>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/4.png" alt="Creating a new instance" /></p>
</div>
<p>In case you skipped the tutorial or didn't fully understand it here's a quick explanation of the most important features:</p>
<ul>
<li>
<p><text style="color: red">Red</text> highlight shows what you need to click to install addons.</p>
</li>
<li>
<p><text style="color: yellow">Yellow</text> highlight shows profiles, you can create how many you want and have different mods enabled on each of them.</p>
</li>
<li>
<p><text style="color: green">Green</text> highlight shows your virtual game directory, this can be useful for checking which file is being used from which addon.</p>
</li>
<li>
<p><text style="color: blue">Blue</text> highlight is used for starting the game, if you don't start your game with this button your mods won't be activated.</p>
</li>
</ul>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/5.png" alt="Creating a new instance" /></p>
</div>
<h2 id="guide-to-modding-and-solving-conflicts"><a class="header" href="#guide-to-modding-and-solving-conflicts">Guide to modding and solving conflicts</a></h2>
<p>On the image below you can see how my MO2 looks, I have a little over 100 addons and a lot of conflicts.</p>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/6.png" alt="Creating a new instance" /></p>
</div>
<p>After installing few addons you might notice these icons:</p>
<ul>
<li><img src="getting-started/mo2-images/7.png" alt="Creating a new instance" /> This little lightning icon with a red minus next to it shows that the addon is being overwritten.</li>
<li><img src="getting-started/mo2-images/8.png" alt="Creating a new instance" /> A lightning icon with green plus means the addon is overwriting another addon.</li>
<li><img src="getting-started/mo2-images/9.png" alt="Creating a new instance" /> If you see both of these icons it means the addon is overwriting an addon and is being overwritten by one.</li>
<li><img src="getting-started/mo2-images/10.png" alt="Creating a new instance" /> And last is the grey icon, this icon is next to an addon which is being fully overwritten making it redundant.</li>
</ul>
<p>To make things work together you need to maintain a load order, that means that you can't just install addons and expect them to all work together, you can start by keeping your load order clean, make some separators (right-click into empty area) like I have in my load order <a href="https://imgur.com/a/6d29UzT">here</a>, after that you can install patches if needed. You can always ask about load orders in the addon-discussion channel.</p>
<p>A good start would be <a href="https://www.moddb.com/mods/stalker-anomaly/addons/groks-anomaly-community-curated-add-ons-list">Grok's Community Curated Add-ons List for Anomaly 1.5.1</a>.</p>
<h4 id="is-it-better-to-use-a-modpack-or-do-everything-yourself"><a class="header" href="#is-it-better-to-use-a-modpack-or-do-everything-yourself">Is it better to use a modpack or do everything yourself?</a></h4>
<p>If you are new to modding you might think simply downloading a modpack is the best option, but that might not be the case as most of the time modpacks are the vision of the person who created it - meaning it might have features you won't like and it can be difficult to remove them, you also can't know if it works fine as it's all packed into one folder.</p>
<p>Using a modpack will also mean you won't be able to get help from the community with your crashes as only the modpack creator knows what changes were made and you'll have to rely on them to help you. </p>
<p>Most of the time modpacks aren't being updated frequently and it's near impossible to install any other addon with them.</p>
<h2 id="solving-conflicts"><a class="header" href="#solving-conflicts">Solving conflicts</a></h2>
<p>Most of the time it's pretty easy because most popular addons already have existing patches, for example if you wanted to install Boomsticks and Sharpsticks with JSRS you would put BaS first, then JSRS files and then the patch for JSRS that comes with BaS.</p>
<h4 id="making-patches-yourself-not-recommended-for-beginners"><a class="header" href="#making-patches-yourself-not-recommended-for-beginners">Making patches yourself (Not recommended for beginners)</a></h4>
<p>What if there is no patch available and the addons won't work together? You either have to choose which one you want or you can make a patch yourself, the best guide for that is <a href="https://www.moddb.com/mods/stalker-anomaly/addons/anomaly-modding-resource-compatibility-patching">Anomaly modding resource</a> made by community member Jack-it.</p>
<h2 id="installing-addons-the-right-way"><a class="header" href="#installing-addons-the-right-way">Installing addons the right way</a></h2>
<p>Remember that every addon you install needs to have only one gamedata folder, if you find an addon with many optional files you need to install it again every time and select only one gamedata.</p>
<p>As you can see in the picture below I get a popup when trying to install JSRS because it has multiple files, select one and install it, then do it again with the second file (Applies for every addon).</p>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/11.png" alt="Creating a new instance" /></p>
</div>
<p>In case you get this popup instead of the one above, you need to expand the filetree and have only option selected, after that you rightclick it and press &quot;set as stalker directory&quot;</p>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/12.png" alt="Creating a new instance" /></p>
</div>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/13.png" alt="Creating a new instance" /></p>
</div>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/14.png" alt="Creating a new instance" /></p>
</div>
<p>In case MO2 crashes when clicking on &quot;manual&quot; addon installation add this text to file ModOrganizer.ini found in Modding/Mo2/: </p>
<pre><code class="language-ini">[CompletedWindowTutorials]
InstallDialog=true
</code></pre>
<h4 id="reporting-crashes"><a class="header" href="#reporting-crashes">Reporting crashes</a></h4>
<p>Please ignore this if you are using a modpack and report any crashes to the modpack &quot;creator&quot;.</p>
<p>If your game crashes and you don't know what caused it go to addon-discussion in Anomaly discord and post your load order along with a log from appdata/logs, it will be a text file named &quot;xray_username&quot;.</p>
<h4 id="converting-from-jsgme-to-mod-organizer-2"><a class="header" href="#converting-from-jsgme-to-mod-organizer-2">Converting from JSGME to Mod Organizer 2</a></h4>
<p>To do this you simply have to delete your &quot;gamedata&quot; folder (This will not delete your saves and MO2 will recreate the folder for you) and install the addons you had with MO2, if you don't want to reinstall them you can simply copy the contents of MODS folder to User/AppData/Local/ModOrganizer/Name of your instance/mods. </p>
<p>If you installed addons manually you also need to delete your gamedata folder.</p>
<h4 id="additional-info"><a class="header" href="#additional-info">Additional info</a></h4>
<p>If you have any ideas what I should change, fix or add in this guide feel free to ping me on discord (Starcry#4447)</p>
<p>Inspired by <a href="https://lazystalker.blogspot.com/2020/11/mod-organizer-2-stalker-anomaly-addons.html">lazy stalker guide</a>.</p>
<p>Link to my patreon <a href="https://cdn.discordapp.com/attachments/831306141904404491/833351054707654706/provak.png">here ( ͡° ͜ʖ ͡°)</a>.</p>
<p>Credits:</p>
<pre><code>d_nan: did absolutely nothing
Caesar_salad: also did absolutely nothing
</code></pre>
<div style="text-align: center;">
<p><img src="getting-started/mo2-images/fuckjsgme3.png" alt="Creating a new instance" /></p>
</div>
<div style="break-before: page; page-break-before: always;"></div><h1 id="addon-installers"><a class="header" href="#addon-installers">Addon installers</a></h1>
<p>Courtesy of RavenAscendant#7504</p>
<p>MO2 supports 2 kinds of installers. 
BAIN is the simpler.
For BAIN to work you put the gamedata folder for for the main mod into a folder thats name starts with 00.
Patches would then go in folders with subsequent numbers.
These folders should all be at the root level of the archive.</p>
<p>Example: <em>addon.zip</em></p>
<pre><code>00 Main
01 BAS patch
02 Optional thing
</code></pre>
<p>Files in folders with higher numbers will overwrite those in folders with lower numbers.</p>
<p>BAIN installers present as a list of check boxes. Folders with 00 will be checked by default, all others will be unchecked. Folders at the root of the archive without numbers will not show up in the installer and not be installed.</p>
<p><a href="https://www.moddb.com/mods/stalker-anomaly/addons/dynamic-npc-armor-visuals">DNPCAV</a> uses BAIN.</p>
<p>The second is FOMOD
Fomod installers can be made to look like a facy windows installer, have preview images, descriptions of what each component does.
There is a tool that can help you build a FOMOD installer.</p>
<p><a href="https://wiki.nexusmods.com/index.php/How_to_create_mod_installers">Guide and tool</a></p>
<p><a href="https://drive.google.com/file/d/10CP5wsPb5OO9Zf53G1N_bUHGeF_c4rvn/view?usp=sharing">An anomaly specific Guide</a></p>
<p>A fomod installer can be built using any folder structure, even the messy one you use now. Or the structure of a BAIN.</p>
<p><a href="https://www.moddb.com/mods/stalker-anomaly/addons/armr-arti-and-ravenascendants-mags-redux/">Mags Redux</a> has a FOMOD installer but a pretty messy file structure.</p>
<p><a href="https://www.moddb.com/mods/stalker-anomaly/addons/sidhud">SidHUD</a> uses FOMOD but has a BAIN file structure.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="monkey-patching"><a class="header" href="#monkey-patching">Monkey patching</a></h1>
<p>Courtesy of RavenAscendant#7504</p>
<p>All code snippets used in the guide are licensed under a Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</p>
<p>This guide is specifically written for modding <a href="https://www.moddb.com/mods/stalker-anomaly">Anomaly</a>. Much of it will apply with minor changes to any STALKER modding. The concept is not limited to STALKER or even lua, Minecraft modding makes extensive use of monkey patching in Java. </p>
<p>Monkey patching is the practice of modifying code at run time. Instead of modifying the script file directly the modifications are done in memory by a second script. The primary reason for doing this in Anomaly is compatibility. If two addons are distributed with an edited version of the same Anomaly game script the two addons will be incompatible without  patch. Worse than incompatible they will most likely cause crashes if installed together. Monkey patching doesn’t guarantee compatibility, if two addons change the same thing in different ways it is unlikely to behave properly, however the likelihood of crashing is significantly reduced.</p>
<p>First a caution, it is always better to simply use call backs. There are a significant number of call backs that allow you to change the way Anomaly plays. Editing Anomaly scripts directly or by monkey patching should only be done if there is no other way. Once one script starts changing the flow of another it becomes significantly harder to figure out what is actually going on.</p>
<p>In general Anomaly scripts are loaded in alphabetical order. When you monkey patch a script that hasn’t loaded you force it to load. If two monkey patches are applied the script that comes last wins. Starting the name of your script with a z means that it will load after most other scripts. While only sometimes necessary and very rarely problematic, the strong suggestion to do so in an earlier version of this guide has resulted in a convention of starting monkey patch scripts with z or zzz.</p>
<p>If a function or variable in a script is declared as local other scripts can’t manipulate it. None of the below techniques will work on local functions or variables. </p>
<h2 id="patching-variables"><a class="header" href="#patching-variables">Patching Variables</a></h2>
<p>The simplest monkey patch only changes variables.  Instant tooltip does this. It uses a callback to watch for the inventory UI being opened and when it is changes the delay for the tool tip:</p>
<pre><code class="language-lua">function on_game_start()
    RegisterScriptCallback(&quot;GUI_on_show&quot;, delay_change)
end


function delay_change(name, path)
    --return quickly if not the GUI we want
    if not (name ~= &quot;UIInventory&quot;)  then return end

    ui_inventory.GUI.item_info.delay = 80
    ui_inventory.GUI.upgr_info.delay = 80
end
</code></pre>
<p>The changes can be far more complex, an example of reaching into a complex nested table is how SidHud adds itself into the game settings UI with its inject_options_UI() function. </p>
<h2 id="patching-existing-callbacks"><a class="header" href="#patching-existing-callbacks">Patching existing Callbacks</a></h2>
<p>The next method is unregistering a Callback. 
The most obvious use of this is to stop a game script Callback from being run at all so that you can completely replace its functionality, however there are some more fine tuned uses.
The order in which Callbacks from various scripts are run is not something that can be relied upon. If you have something that needs to happen before or after a game script Callback the most reliable method is to unregister the games Callback and then call the function directly from your own Callback at the correct timing. Similarly you can use this method to prevent a Callback from running in particular cases. Such as preventing itms_manager.script from creating a half eaten chocolate bar when a chocolate bar is used:</p>
<pre><code class="language-lua">function on_game_start()
    UnregisterScriptCallback((&quot;actor_on_item_use&quot;, itms_manager.actor_on_item_use)
    RegisterScriptCallback(&quot;actor_on_item_use&quot;, test)
end

 function test(obj)
    if (obj:section() == &quot;chocolate&quot;) then return end
    itms_manager.actor_on_item_use(obj)
end
</code></pre>
<p>The above code has an example of the fact that functions are variables like any other, they can be passed to a function just like a number. They can also be assigned to another variable name just like a number and a function name can be assigned a new value, new code. It is this feature of lua that allows the most powerful monkey patching to work.</p>
<h2 id="patching-functions"><a class="header" href="#patching-functions">Patching Functions</a></h2>
<p>The same way that scriptname.function can be used to call a function in another script it can also be used to save a copy of that function, this can be used to shorten a long function name</p>
<pre><code class="language-lua">ga = utils_item.get_ammo
ga(section, id) -- this is the same as utils_item.get_ammo(section, id)
</code></pre>
<p>The scriptname.function syntax can also be used to assign new code (example from first version of Headlamp Animation Fix).</p>
<pre><code class="language-lua">base_Hit_TorchToggle = actor_effects.Hit_TorchToggle

function actor_effects.Hit_TorchToggle()
    local animation_setting = axr_main.config:r_value(&quot;options&quot;,&quot;video/player/animations&quot;, 1)
    if animation_setting then
        base_Hit_TorchToggle()
    else
        item_device.toggle_torch()
    end
end
</code></pre>
<p>The order there is important. It is necessary to save a copy of the old function first, before you modify it, if you plan on using it later.</p>
<p>Now when any script calls <code>actor_effects.Hit_TorchToggle()</code> it will call the above function instead.
It is important to understand that no matter what name you give a function it can only access local variables in the script it is written in.</p>
<h2 id="patching-xrayluajit-classes"><a class="header" href="#patching-xrayluajit-classes">Patching xray/luajit “classes”</a></h2>
<p>TL;DR: lua oop doesn’t use classes, but, for reasons, X-Ray’s lua does and we can patch either or both the classes or the instance objects. 
What the : (colon) operator really does. 
The : operator in lua is simply a shortcut. Any function defined with a : can be called without it.</p>
<pre><code class="language-lua">foo:start()
foo.start(foo)
</code></pre>
<p>Those are equivalent. </p>
<p>Similarly a function can be defined without it.</p>
<pre><code class="language-lua">function foo:start()
…
end

function foo.start(self)
…
end
</code></pre>
<p>When calling a function the : acts like . but also passes the table to it’s left as an invisible first parameter to the function on the right.</p>
<p>When defining a function : acts like . but also inserts the variable self at the beginning of the parameter list. This syntax allows lua oop to have a familiar syntax. </p>
<h2 id="luajit-classes-todo"><a class="header" href="#luajit-classes-todo">LUAJit Classes TODO</a></h2>
<p>Some closing notes.</p>
<p>Dealing with local.
Sometimes you can get lucky if you dig a bit deeper. Actor_effects.actor_on_item_use is declared local. Not only can you not change it, you also cannot unregister the callback that it is assigned to. However all <code>Actor_effects.actor_on_item_use</code> does is call <code>Actor_effects.play_item_fx(obj:section())</code> which is not local.  <code>Actor_effects.actor_on_item_use</code> can be modified or disabled by patching <code>Actor_effects.play_item_fx</code>. (Be careful tho, that particular function is called from other places as well, and if you don’t want to disable them then you may need to get very creative or are out of luck.)</p>
<p>When it comes to local variables it may be possible to calculate them yourself in your script, this is very easy for constants, harder for things that change, but if you really need to monkey patch yourself into every function that changes that variable and duplicate the calculations before calling the original function, this should keep your copy in step with the original. Watch out for side effects. </p>
<p>If any Anomaly Devs are reading this I strongly recommend that all Callback functions be made not local to allow for unregistering them. TBH i’d like to see local only used for function scoped variables with all globals and functions available from outside the script.</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="quests"><a class="header" href="#quests">Quests</a></h1>
<div style="break-before: page; page-break-before: always;"></div><h1 id="introduction-1"><a class="header" href="#introduction-1">Introduction</a></h1>
<p>Courtesy of GhenTuong#1278</p>
<p>A quest is defined by adding a section inside \configs\misc\task\task_manager.ltx or any of the files included by it.</p>
<p><em>task_manager.ltx</em></p>
<pre><code class="language-ini">[mytask]
status_functor = mytask_status_f
target_functor = mytask_target_f
; there are more things but these are the essentials to have it running
</code></pre>
<p>The status functor is a function that gets called every few seconds while the task is active, used to progress the task logic.
The target functor is used to decide where to show the quest marker while the task is active.</p>
<p>The status functor needs to be defined inside task_status_functor.script, while the target functor inside task_functor.script
To avoid bloating those two scripts you can define those functions in a separate file.</p>
<p><em>mytask.script</em></p>
<pre><code class="language-lua">function task_status_functor.mytask_status_f(tsk,task_id)
	-- your code
	-- return &quot;fail&quot; or &quot;complete&quot; to fail/complete the task
	-- change the value of tsk.stage to change the stage of the task
end

function task_functor.mytask_target_f(task_id,field,p,tsk)
	-- your code
	-- the return value must be a number or nil
	-- engine will place a task marker on the object 
    -- with the id returned by this function or delete it if nil
end

-- this below is not required, adds a &quot;start_mytask&quot; command
-- in debug menu to start the task 
_cmd = debug_cmd_list.command_get_list()
function _cmd.start_mytask()
	task_manager.get_task_manager():give_task('mytask')
end
</code></pre>
<p>Now by calling &quot;start_mytask&quot; in debug menu you will get a task with default task icon (the compass) and a ugly TITLE_DOESNT_EXIST title and DESCR_DOESNT_EXIST description, also nothing happens.</p>
<p>Title and description can be defined in two ways:
static (not really, it's actually a condlist which is a can of worms, so for now pretend it's a static value)
<em>task_manager.ltx</em></p>
<pre><code class="language-ini">[mytask]
status_functor 	= mytask_status_f
target_functor 	= mytask_target_f

title 	= st_mytask_title
descr 	= st_mytask_descr
</code></pre>
<p>With st_mytask_descr and st_mytask_title defined inside a xml file in configs/text/eng or rus/</p>
<p>With functors
<em>task_manager.ltx</em></p>
<pre><code class="language-ini">[mytask]
status_functor 	= mytask_status_f
target_functor 	= mytask_target_f

title_functor 	= mytask_title_f
descr_functor 	= mytask_descr_f
</code></pre>
<p>Title and task functors must belong to task_functor namespace so you need to add.</p>
<p><em>mytask.script</em>	</p>
<pre><code class="language-lua">function task_functor.mytask_title_f(task_id,field,p,tsk)
    -- 	title of the task will be the text returned
    --  you will have to define your strings in an xml and &quot;translate&quot; the string id 
    return game.translate_string('st_mytask_title')
end

function task_functor.mytask_descr_f(task_id,field,p,tsk)
    -- description of the task will be the text returned
    return game.translate_string('st_mytask_descr')
end
</code></pre>
<p>After doing either task should show the title and description you set.</p>
<p>Now you need to decide a rough outline of the task, dividing them by stage makes organizing code easier, but nothing prevents you to hangle all the logic in a single stage, however stage matters if you want the task to be part of the random tasks given by npc that will be explained later.</p>
<ol start="0">
<li>
<p>Stage 0: kill the soldiers</p>
</li>
<li>
<p>Stage 1: return to fanatic</p>
</li>
</ol>
<p>Edit the status and target functor to spawn a soldier squad at the fallen bridge and make the task target them, and the target fanatic after the soldiers have been killed.</p>
<p><em>mytask.script</em></p>
<pre><code class="language-lua">local squad_id
function task_status_functor.mytask_status_f(tsk,task_id)
    -- if it's stage 1, then we're done
	if tsk.stage &gt; 0 then return end

    -- if it's stage 0 and it hasn't been done yet, spawn the army squad at the fallen bridge and make them stay there
    if not squad_id then
        -- spawn the squad 'army_sim_squad_novice' at the smart 'esc_smart_terrain_TODO'
        -- you can check smart terrain names with debug hud on pda map

        -- TODO: alun_utils are outdated
        local se_squad = alun_utils.create_squad('army_sim_squad_novice', 'esc_smart_terrain_TODO')
        
        -- force the squad to go and stay at the smart 'esc_smart_terrain_TODO'
        -- this is done already by alun_utils.create_squad but i write here too to make it clear how to
        se_squad.scripted_target = 'esc_smart_terrain_TODO'
        
        -- memorize the squad id to be used later to retrieve the squad object to check if still exists and for the target functor
        -- also since now squad_id has a valid value it will no longer be &quot;falsy&quot; so this block won't be executed on the next status functor run
        squad_id = se_squad.id
    end
    
    -- get the server object of the squad
    local se_squad = alife():object(squad_id)
    
    -- if no object is found with that id, it means the squad has been destroyed (happens automatically when all of its members are killed)
    -- in other words, the stage is complete and we can go to the next one
    if not se_squad then
        tsk.stage = 1
    end
end

function task_functor.mytask_target_f(task_id,field,p,tsk)
	-- if stage 0 (army squad alive), target it
	-- warning, this may run before the squad has been created, however since nil is a valid value for target functor (no marker) it's ok
	-- but be careful and never expect the functions to be called in a specific order
	
	if tsk.stage == 0 then
		return squad_id
	end
	
	-- if stage 1 (army squad dead), target fanatic
	-- some npc and items have defined a &quot;story_id&quot; to make easier getting their objects in script, in fanatic case it's &quot;esc_2_12_stalker_fanat&quot;
	-- as you can see in his spawn section define in \configs\creatures\spawn_sections_escape.ltx
	if tsk.stage == 1 then
		return story_objects.object_id_by_story_id('esc_2_12_stalker_fanat')
	end
end
</code></pre>
<p>Now when you start the task, the squad will appear at the bridge and after killing it you will get a quest update notification and now you have a quest marker on fanatic.</p>
<p>To make quests be available at specific npc and allow completion when talking to them back you'll have to edit the task section definition.</p>
<p>First of all the npc must have a special task manager dialog, then the task must be named &quot;npc_section_task_XXX&quot; where XXX is whatever you want (in vanilla coc and most other mods it must actually be a number sequential to other tasks by same npc, so if you have X_task_1, X_task_2 and X_task_3 already, you new task MUST be named X_task_4, in anomaly you can use whatever name you want as long the prefix &quot;X_task_&quot; is respected).
To add the task to the pool available at fanatic (he already has the task manager dialog):</p>
<p><em>task_manager.ltx</em></p>
<pre><code class="language-ini">[esc_2_12_stalker_fanat_task_mytask]
status_functor 	= mytask_status_f
target_functor 	= mytask_target_f

title 	= st_mytask_title
descr 	= st_mytask_descr

; the dialog used by npc to introduce the task, must be defined in xml
job_descr = st_mytask_job_descr

; the dialog used by npc when turning the quest in, must be defined in xml
; can be omitted and npc will use a generic &quot;good job&quot; response
task_complete_descr = st_mytask_task_complete_descr

; for task manager handled quests, the stage does matter, it is needed by the npc to know if he should show the &quot;the job is done&quot; dialog to turn it in
; in our case, we want it only after the army squad is dead, so stage 1
stage_complete = 1
</code></pre>
<p>Also now that the task is handled by the task manager, inside functors you can access the value tsk.task_giver_id which is the id of the npc that gave you the task, so for example the target functor can be changed to:</p>
<p><em>mytask.script</em></p>
<pre><code class="language-lua">function task_functor.mytask_target_f(task_id,field,p,tsk)
	if tsk.stage == 0 then
		return squad_id
	elseif tsk.stage == 1 then
		return tsk.task_giver_id
	end
end
</code></pre>
<p>Now if you go talk to fanatic and ask for jobs, it will propose also the new task, you can go now kill the army and come back to turn it the task, you have now a fully working task, but the reward is missing, since fanatic is not sidorovich he would pay you, to do this we write the on_complete line, which defines what happens when task is completed.</p>
<p><em>task_manager.ltx</em></p>
<pre><code class="language-ini">[esc_2_12_stalker_fanat_task_mytask]
status_functor 	= mytask_status_f
target_functor 	= mytask_target_f

title 	= st_mytask_title
descr 	= st_mytask_descr

job_descr = st_mytask_job_descr
task_complete_descr = st_mytask_task_complete_descr

stage_complete = 1

on_complete = %=reward_random_money(5000:10000) =reward_stash(true) =complete_task_inc_goodwill(50:stalker)%
</code></pre>
<hr />
<p>on complete is a condlist, which is basically a &quot;dynamic&quot; config line but with tons of gotchas, so when in doubt just copypaste from exisitng ones and edit values accordingly</p>
<pre><code class="language-ini">on_complete = %=reward_random_money(5000:10000) =reward_stash(true) =complete_task_inc_goodwill(50:stalker)%
</code></pre>
<p>actually means that when the condlist is parsed (in this case when task is completed) it will execute the functions:</p>
<pre><code class="language-lua">-- give player from 5000 to 10000 cash (modified by economy settings)
xr_effects.reward_random_money(nil, nil, {&quot;5000&quot;,&quot;10000&quot;})

-- give a stash location
xr_effects.reward_stash(nil, nil, {&quot;true&quot;})

-- give 50 goodwill with &quot;stalker&quot; (loners) faction 
-- (modified by economy settings)
xr_effects.complete_task_inc_goodwill(nil, nil, {&quot;50&quot;,&quot;stalker&quot;})
</code></pre>
<p>To find all possible functions check xr_effects.script, but you can make your own too as long you edit xr_effects (not recommended) or add functions from your script into it
a and b depend on how the condlist is parsed, so unless you know what you're doing (and if you need to read this guide you probably don't) ignore them.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
        <script type="text/javascript">
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>
    </body>
</html>
